{"version":3,"sources":["Header.js","Modal.js","Playfield.js","App.js","index.js"],"names":["Header","Modal","props","state","setState","modal","className","modalText","onClick","field","start","PlayField","markerTypes","TdElems","i","j","marker","queue","array","map","item","index","elem","num","matrix","drawCondition","el","concat","some","checkDraw","checkWinner","trElems","smbdWin","winCondition","element","length","every","firstDiagonal","arrs","slice","join","secondDiagonal","App","useState","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1b77466d.chunk.js","sourcesContent":["import './Header.css';\n\nfunction Header() {\n    return (\n      <header>\n        <h1>Игра крестики-нолики</h1>\n      </header>\n    )\n}\n\nexport default Header;","import './Modal.css';\n\nfunction Modal(props) {\n  const state = props.state;\n  const setState = props.setState;\n\n  function startNewGame() {\n    setState(state => {\n      return {\n        ...state,\n        field: [\n          ['', '', ''],\n          ['', '', ''],\n          ['', '', '']\n        ],\n        start: true,\n        modal: false\n      }\n    })\n  }\n  if(state.modal) {\n    return (\n      <div className='modal-overlay open'>\n        <div className='modal-window'>\n          <div className='modal-header'>\n            <h2> {state.modalText} </h2>\n          </div>\n          <div className='modal-body'>\n            <button onClick={() => startNewGame()} className='modal-buttons'>Начать новую игру</button>\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    return <div></div>\n  }\n}\n\nexport default Modal;","import './Playfield.css';\n\nfunction PlayField(props) {\n    const markerTypes = ['✘', '○'] // '✘';\n    const state = props.state;\n    const setState = props.setState;\n  \n    function TdElems(props) {\n      return <td onClick={() =>fillingField(props.i, props.j)}>{props.item}</td>\n    }\n    const trElems = state.field.map((elem, i) =>\n      <tr key={i}>\n        {elem.map((item, j) => <TdElems key={(i+1)*(j+1)} i={i} j={j} item={item} />)}\n      </tr>\n    )\n  \n    function fillingField(i, j) {\n      setState(state => {\n        let marker = state.queue ? markerTypes[0] : markerTypes[1]\n        const array = state.field.map((item, index) => {\n          return item.map((elem, num) =>{\n            if(i === index && j === num && elem === '') {\n              elem = marker;\n              return elem\n            }\n            return elem\n          })\n        })\n  \n        checkDraw(array)\n        checkWinner(array)\n        return {\n          ...state,\n          field: array,\n          queue: !state.queue\n        }\n      })\n    }\n\n    \n  \n    function checkDraw(matrix) {\n      function drawCondition(el) {\n        return el === ''\n      }\n      if(![].concat(...matrix).some(drawCondition)) {\n        setState(state => {\n          return {\n            field: state.field,\n            queue: true,\n            start: true,\n            modal: true,\n            modalText: 'Ничья'\n          }\n        })\n      }\n    }\n  \n    function checkWinner(matrix) {\n      let marker = state.queue ? '✘' : '○';\n      let smbdWin = false;\n      function winCondition(element) {\n        return element === marker\n      }\n  \n      for (let i = 0; i < matrix.length; i++) {\n        if(matrix[i].every(winCondition)) {\n          smbdWin = true;\n        }\n        for (let j = 0; j < matrix[i].length; j++) {\n          if (0 < i && i < matrix.length-1) {\n            if(matrix[i-1][j] === marker && matrix[i][j] === marker && matrix[i+1][j] === marker) {\n              smbdWin = true;\n            }\n          }\n        }\n      }\n  \n      const firstDiagonal = matrix.map((arrs, index) => arrs.slice(index, index+1).join()).slice().every(winCondition),\n            secondDiagonal = matrix.map((arrs, index) => arrs.slice(arrs.length-(1 + index), arrs.length-index).join()).slice().every(winCondition);\n  \n      if (firstDiagonal || secondDiagonal) {\n        smbdWin = true;\n      }\n  \n      if(smbdWin) {\n        setState(state => {\n          return {\n            field: state.field,\n            queue: true,\n            start: true,\n            modal: true,\n            modalText: marker ==='✘'? 'Победили крестики' : 'Победили нолики'\n          }\n        })\n      }\n    }\n  \n    function showField(){\n      setState(state => {\n        return {\n          ...state,\n          start: true\n        }\n      })\n    }\n  \n    if (state.start) {\n      return (\n        <table className='play-field'>\n          <tbody>\n            {trElems}\n          </tbody>\n        </table>\n      )\n    } else {\n      return <button className='bttn-show-field' onClick={() => showField()}>Старт</button>\n    }\n  }\n\n  export default PlayField;","import React, { useState } from 'react';\nimport './App.css';\n\nimport Header from './Header';\nimport Modal from './Modal';\nimport PlayField from './Playfield';\n\n\nfunction App() {\n  const [state, setState] = useState({\n    field: [\n      ['', '', ''],\n      ['', '', ''],\n      ['', '', '']\n    ],\n    queue: true,\n    start: false,\n    modal: false,\n    modalText: ''\n  });\n  \n  \n  return (\n    <React.Fragment>\n      <Header />\n      <main>\n        <PlayField state={state} setState={setState}/>\n      </main>\n      <Modal state={state} setState={setState}/>\n    </React.Fragment>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}